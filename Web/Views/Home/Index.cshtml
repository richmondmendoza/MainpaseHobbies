@using Repository.Extensions;
@using Infrastructure;

@{
    ViewBag.Title = "Home";

    var inventories = ViewBag.Inventories as List<Dto.Dto.InventoryDetailsDto>;
    var events = ViewBag.Events as List<Dto.Dto.InventoryDetailsDto>;
}

<link href="~/Content/assets/css/Custom.css" rel="stylesheet" />
<style>
    .hero .carousel-item::before {
        background-color: transparent;
    }
</style>

<!-- Hero Section -->
<section id="hero" class="hero section dark-background">

    <div id="hero-carousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">

        <div class="carousel-item active">
            <img src="~/Content/website_img/1.png" alt="">
        </div>

        <div class="carousel-item">
            <img src="~/Content/website_img/2.jpeg" alt="">
        </div>

        <div class="carousel-item">
            <img src="~/Content/website_img/3.png" alt="">
        </div>

        <a class="carousel-control-prev" href="#hero-carousel" role="button" data-bs-slide="prev">
            <span class="carousel-control-prev-icon bi bi-chevron-left" aria-hidden="true"></span>
        </a>

        <a class="carousel-control-next" href="#hero-carousel" role="button" data-bs-slide="next">
            <span class="carousel-control-next-icon bi bi-chevron-right" aria-hidden="true"></span>
        </a>

        <ol class="carousel-indicators"></ol>

    </div>

</section>

<section id="team" class="team section">

    <!-- Section Title -->
    <div class="container section-title mb-3 pb-0" data-aos="fade-up">
        <h2 class="mb-0" style="text-align: left; border-left: 10px solid var(--accent-color); padding-left: 10px; ">Collections</h2>
    </div><!-- End Section Title -->

    <div class="container">

        <div class="row gy-5">

            @if (inventories != null && inventories.Count > 0)
            {
                foreach (var item in inventories)
                {

                    <div class="col-xl-3 col-md-4 d-flex" data-aos="zoom-in" data-aos-delay="100">
                        <a href="@Url.Action("CardDetails", "Home", new {area = "", cardId = Fletcher.Encrypt(item.Id.ToString())})">
                            <div class="team-member">
                                <div class="member-img tcg-image-container">
                                    <img id="tcg-image-preview" src="data:image/@item.Image.GetImageExtension().Replace(".", "");base64,@item.ImageBase64" class="img-fluid" alt="">
                                    @if (item.FoilType.ToLower().Replace(" ", "") == "foil" ||
                                         item.FoilType.ToLower().Replace(" ", "") == "etchedfoil")
                                    {
                                        <div class="tcg-foil"></div>
                                    }
                                </div>
                                <div class="member-info">
                                    @*<h4>@item.Name</h4>*@
                                    <span>
                                        @item.PurchaseCurrency @item.Price.ToString("n2")
                                    </span>
                                </div>
                            </div>
                        </a>
                    </div>
                }
            }

            <div class="col-xl-3 col-md-4 d-flex" id="viewAllCard">
                <div class="team-member w-100 d-flex align-items-center justify-content-center">
                    <a href="@Url.Action("Search", "Home", new {area = ""})" class="">
                        <i class="fa-regular fa-circle-right" style="font-size: 18px;"></i> View All Cards
                    </a>
                </div>
            </div>

        </div>

    </div>

</section>


<section id="team" class="team section">

    <div class="container section-title mb-3 pb-0" data-aos="fade-up">
        <h2 class="mb-0" style="text-align: left; border-left: 10px solid var(--accent-color); padding-left: 10px; ">Upcoming Events</h2>
    </div>

    <div class="container">

        <div class="row gy-5">

            @if (events != null && events.Count > 0)
            {
                foreach (var item in events)
                {

                    <div class="col-xl-3 col-md-4 d-flex" data-aos="zoom-in" data-aos-delay="200">
                        <a href="#">
                            <div class="team-member">
                                <div class="member-img tcg-image-container">
                                    <img id="tcg-image-preview" src="data:image/@item.Image.GetImageExtension().Replace(".", "");base64,@item.ImageBase64" class="img-fluid" alt="">
                                    @if (item.FoilType.ToLower().Replace(" ", "") == "foil" ||
                                         item.FoilType.ToLower().Replace(" ", "") == "etchedfoil")
                                    {
                                        <div class="tcg-foil"></div>
                                    }
                                </div>
                                <div class="member-info">
                                    @*<h4>@item.Name</h4>*@
                                    <span>
                                        @item.PurchaseCurrency @item.Price.ToString("n2")
                                    </span>
                                </div>
                            </div>
                        </a>
                    </div>
                }
            }

            <div class="col-xl-3 col-md-4 d-flex" id="viewAllCard">
                <div class="team-member w-100 d-flex align-items-center justify-content-center">
                    <a href="#" class="">
                        <i class="fa-regular fa-circle-right" style="font-size: 18px;"></i> View All Events
                    </a>
                </div>
            </div>

        </div>

    </div>

</section>

@section scripts{

    <script>

        $(document).ready(function () {




        });

    </script>

}